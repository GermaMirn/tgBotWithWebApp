<script lang="ts">
import { defineComponent } from "vue";
import { useUserStore } from "@/stores/user";
import Button from 'primevue/button';
import { useUiStore } from '@/stores/ui'

export default defineComponent({
  name: "HomePage",
  components: { Button },
  data() {
    return {
      userStore: useUserStore(),
      ui: useUiStore()
    }
  },
  methods: {
    goToCalendar() {
      // this.ui.showLoading('–ü–µ—Ä–µ—Ö–æ–¥ –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é...')
      this.$router.push('/calendar')
      // this.ui.hideLoading()
    },
    goToTeachers() {
      // this.ui.showLoading('–ü–µ—Ä–µ—Ö–æ–¥ –∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º...')
      this.$router.push('/teachers')
      // this.ui.hideLoading()
    }
  }
});
</script>

<template>
  <div class="home-page">
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div v-if="userStore.isAuthenticated" class="main-content">
      <!-- Hero —Å–µ–∫—Ü–∏—è -->
      <section class="hero-section">
        <div class="hero-content">
          <h1 class="hero-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —è–∑—ã–∫–æ–≤—É—é —Å—Ç—É–¥–∏—é!</h1>
          <p class="hero-subtitle">–ò–∑—É—á–∞–π—Ç–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –∏ –∫–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫–∏ —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏</p>
          <div class="hero-buttons">
            <Button
              label="–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ"
              icon="pi pi-calendar-plus"
              class="primary-button"
              @click="goToCalendar"
            />
            <Button
              label="–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ"
              icon="pi pi-info-circle"
              class="secondary-button"
              text
            />
          </div>
        </div>
        <div class="hero-image">
          <i class="pi pi-globe hero-icon"></i>
        </div>
      </section>

      <!-- –û —Å—Ç—É–¥–∏–∏ -->
      <section class="about-section">
        <h2 class="section-title">–û –Ω–∞—à–µ–π —Å—Ç—É–¥–∏–∏</h2>
        <div class="about-grid">
          <div class="about-card">
            <div class="card-icon">
              <i class="pi pi-users"></i>
            </div>
            <h3>–û–ø—ã—Ç–Ω—ã–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏</h3>
            <p>–ù–∞—à–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –∏–º–µ—é—Ç –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–∏–π –æ–ø—ã—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏—è</p>
          </div>

          <div class="about-card">
            <div class="card-icon">
              <i class="pi pi-clock"></i>
            </div>
            <h3>–ì–∏–±–∫–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h3>
            <p>–ó–∞–Ω–∏–º–∞–π—Ç–µ—Å—å –≤ —É–¥–æ–±–Ω–æ–µ –¥–ª—è –≤–∞—Å –≤—Ä–µ–º—è. –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∏ –≥—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è</p>
          </div>

          <div class="about-card">
            <div class="card-icon">
              <i class="pi pi-star"></i>
            </div>
            <h3>–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ</h3>
            <p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥–∏–∫–∏ –æ–±—É—á–µ–Ω–∏—è, –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –∫–∞–∂–¥–æ–º—É —Å—Ç—É–¥–µ–Ω—Ç—É</p>
          </div>
        </div>
      </section>

      <!-- –Ø–∑—ã–∫–∏ -->
      <section class="languages-section">
        <h2 class="section-title">–ò–∑—É—á–∞–µ–º—ã–µ —è–∑—ã–∫–∏</h2>
        <div class="languages-grid">
          <div class="language-card english">
            <div class="language-header">
              <div class="flag-icon">üá∫üá∏</div>
              <h3>–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫</h3>
            </div>
            <ul class="language-features">
              <li>–†–∞–∑–≥–æ–≤–æ—Ä–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞</li>
              <li>–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ –∏ –ª–µ–∫—Å–∏–∫–∞</li>
              <li>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º</li>
              <li>–ë–∏–∑–Ω–µ—Å-–∞–Ω–≥–ª–∏–π—Å–∫–∏–π</li>
            </ul>
            <Button
              label="–í—ã–±—Ä–∞—Ç—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è"
              class="language-button"
              @click="goToTeachers"
            />
          </div>

          <div class="language-card chinese">
            <div class="language-header">
              <div class="flag-icon">üá®üá≥</div>
              <h3>–ö–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫</h3>
            </div>
            <ul class="language-features">
              <li>–ò–µ—Ä–æ–≥–ª–∏—Ñ–∏–∫–∞</li>
              <li>–¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</li>
              <li>–ö—É–ª—å—Ç—É—Ä–∞ –ö–∏—Ç–∞—è</li>
              <li>HSK –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞</li>
            </ul>
            <Button
              label="–í—ã–±—Ä–∞—Ç—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è"
              class="language-button"
              @click="goToTeachers"
            />
          </div>
        </div>
      </section>

      <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
      <section class="benefits-section">
        <h2 class="section-title">–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å</h2>
        <div class="benefits-list">
          <div class="benefit-item">
            <i class="pi pi-check-circle benefit-icon"></i>
            <div class="benefit-content">
              <h4>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥</h4>
              <p>–ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±—É—á–µ–Ω–∏—è –ø–æ–¥–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ–¥ –≤–∞—à–∏ —Ü–µ–ª–∏ –∏ —É—Ä–æ–≤–µ–Ω—å</p>
            </div>
          </div>

          <div class="benefit-item">
            <i class="pi pi-check-circle benefit-icon"></i>
            <div class="benefit-content">
              <h4>–£–¥–æ–±–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h4>
              <p>–ó–∞–Ω–∏–º–∞–π—Ç–µ—Å—å –≤ –ª—é–±–æ–µ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è, –≤–∫–ª—é—á–∞—è –≤—ã—Ö–æ–¥–Ω—ã–µ</p>
            </div>
          </div>

          <div class="benefit-item">
            <i class="pi pi-check-circle benefit-icon"></i>
            <div class="benefit-content">
              <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω</h4>
              <p>–ù–∞—à–∏ —Å—Ç—É–¥–µ–Ω—Ç—ã –¥–æ—Å—Ç–∏–≥–∞—é—Ç –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π –≤ –∏–∑—É—á–µ–Ω–∏–∏ —è–∑—ã–∫–æ–≤</p>
            </div>
          </div>

          <div class="benefit-item">
            <i class="pi pi-check-circle benefit-icon"></i>
            <div class="benefit-content">
              <h4>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</h4>
              <p>–ò—Å–ø–æ–ª—å–∑—É–µ–º –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —É—á–µ–±–Ω–∏–∫–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</p>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA —Å–µ–∫—Ü–∏—è -->
      <section class="cta-section">
        <div class="cta-content">
          <h2>–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ —è–∑—ã–∫–∞?</h2>
          <p>–ó–∞–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –ø–µ—Ä–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ –∏ –æ—Ü–µ–Ω–∏—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞—à–µ–≥–æ –æ–±—É—á–µ–Ω–∏—è</p>
          <Button
            label="–ó–∞–ø–∏—Å–∞—Ç—å—Å—è —Å–µ–π—á–∞—Å"
            icon="pi pi-calendar-plus"
            class="cta-button"
            @click="goToCalendar"
          />
        </div>
      </section>
    </div>
  </div>
</template>

<style scoped>
.home-page {
  min-height: 100vh;
  background: var(--surface-ground);
}

/* Hero —Å–µ–∫—Ü–∏—è */
.hero-section {
  display: flex;
  align-items: center;
  padding: 3rem 1.5rem;
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-600) 100%);
  color: white;
  min-height: 60vh;
}

.hero-content {
  flex: 1;
  max-width: 600px;
}

.hero-title {
  font-size: 2.5rem;
  font-weight: 700;
  margin: 1rem 0 1rem 0;
  line-height: 1.2;
}

.hero-subtitle {
  font-size: 1.25rem;
  margin: 0 0 2rem 0;
  opacity: 0.9;
  line-height: 1.5;
}

.hero-buttons {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

.primary-button {
  background: white !important;
  color: var(--primary-color) !important;
  border: none !important;
  font-weight: 600;
}

.secondary-button {
  color: white !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
}

.hero-image {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
}

.hero-icon {
  font-size: 8rem;
  opacity: 0.2;
}

/* –°–µ–∫—Ü–∏–∏ */
.section-title {
  text-align: center;
  font-size: 2rem;
  font-weight: 600;
  margin: 0 0 2rem 0;
  color: var(--text-color);
}

/* –û —Å—Ç—É–¥–∏–∏ */
.about-section {
  padding: 4rem 1.5rem;
  background: var(--surface-card);
}

.about-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

.about-card {
  text-align: center;
  padding: 2rem;
  border-radius: 12px;
  background: var(--surface-section);
  border: 1px solid var(--surface-border);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.about-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.card-icon {
  width: 80px;
  height: 80px;
  margin: 0 auto 1.5rem;
  background: var(--primary-color);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.card-icon i {
  font-size: 2rem;
  color: white;
}

.about-card h3 {
  margin: 0 0 1rem 0;
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-color);
}

.about-card p {
  margin: 0;
  color: var(--text-color-secondary);
  line-height: 1.6;
}

/* –Ø–∑—ã–∫–∏ */
.languages-section {
  padding: 4rem 1.5rem;
  background: var(--surface-ground);
}

.languages-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

.language-card {
  background: var(--surface-card);
  border-radius: 16px;
  padding: 2rem;
  border: 1px solid var(--surface-border);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.language-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.language-header {
  display: flex;
  align-items: center;
  margin-bottom: 1.5rem;
}

.flag-icon {
  font-size: 2.5rem;
  margin-right: 1rem;
}

.language-card h3 {
  margin: 0;
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--text-color);
}

.language-features {
  list-style: none;
  padding: 0;
  margin: 0 0 2rem 0;
}

.language-features li {
  padding: 0.5rem 0;
  color: var(--text-color-secondary);
  position: relative;
  padding-left: 1.5rem;
}

.language-features li::before {
  content: "‚úì";
  position: absolute;
  left: 0;
  color: var(--primary-color);
  font-weight: bold;
}

.language-button {
  width: 100%;
  background: var(--primary-color) !important;
  border: none !important;
}

/* –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ */
.benefits-section {
  padding: 4rem 1.5rem;
  background: var(--surface-card);
}

.benefits-list {
  max-width: 800px;
  margin: 0 auto;
}

.benefit-item {
  display: flex;
  align-items: flex-start;
  margin-bottom: 2rem;
  padding: 1.5rem;
  border-radius: 12px;
  background: var(--surface-section);
  border: 1px solid var(--surface-border);
}

.benefit-icon {
  font-size: 1.5rem;
  color: var(--primary-color);
  margin-right: 1rem;
  margin-top: 0.25rem;
}

.benefit-content h4 {
  margin: 0 0 0.5rem 0;
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--text-color);
}

.benefit-content p {
  margin: 0;
  color: var(--text-color-secondary);
  line-height: 1.6;
}

/* CTA —Å–µ–∫—Ü–∏—è */
.cta-section {
  padding: 4rem 1.5rem;
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-600) 100%);
  color: white;
  text-align: center;
}

.cta-content h2 {
  font-size: 2rem;
  font-weight: 600;
  margin: 0 0 1rem 0;
}

.cta-content p {
  font-size: 1.125rem;
  margin: 0 0 2rem 0;
  opacity: 0.9;
}

.cta-button {
  background: white !important;
  color: var(--primary-color) !important;
  border: none !important;
  font-weight: 600;
  font-size: 1.125rem;
  padding: 1rem 2rem;
}

/* –û—à–∏–±–∫–∏ */
.error-container,
.auth-error {
  text-align: center;
  padding: 2rem;
  background: var(--surface-card);
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  margin: 2rem;
}

.error-container h2,
.auth-error h2 {
  color: var(--red-500);
  margin-bottom: 1rem;
}

.error-container p,
.auth-error p {
  color: var(--text-color-secondary);
  font-size: 1.1rem;
}

/* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ */
@media (max-width: 768px) {
  .hero-section {
    flex-direction: column;
    text-align: center;
    padding: 2rem 1rem;
  }

  .hero-title {
    font-size: 2rem;
  }

  .hero-subtitle {
    font-size: 1.125rem;
  }

  .hero-buttons {
    justify-content: center;
  }

  .hero-icon {
    font-size: 4rem;
    margin-top: 2rem;
  }

  .about-grid,
  .languages-grid {
    grid-template-columns: 1fr;
  }

  .section-title {
    font-size: 1.75rem;
  }

  .cta-content h2 {
    font-size: 1.75rem;
  }
}
</style>
